# 股票短期涨跌预测配置文件

# 数据配置
data:
  # 股票代码列表（上证50成分股）
  stock_codes:
    - "600519.SS"  # 贵州茅台
    - "600036.SS"  # 招商银行
    - "601318.SS"  # 中国平安
    - "600030.SS"  # 中信证券
    - "600887.SS"  # 伊利股份
  
  # 数据时间范围
  start_date: "2019-01-01"
  end_date: null  # null表示到最新日期
  
  # 数据源（yfinance 或 akshare）
  data_source: "yfinance"
  
  # 数据目录
  raw_data_dir: "data/raw"
  processed_data_dir: "data/processed"

# 特征工程配置
features:
  # 时间窗口大小（用于构造序列样本）
  sequence_length: 30
  
  # 预测未来几天
  prediction_horizon: 1
  
  # 技术指标参数
  indicators:
    # 移动平均线周期
    ma_periods: [5, 10, 20, 30, 60]
    
    # MACD参数
    macd_fast: 12
    macd_slow: 26
    macd_signal: 9
    
    # RSI周期
    rsi_period: 14
    
    # 布林带参数
    bb_period: 20
    bb_std: 2
    
    # ATR周期
    atr_period: 14
    
    # 其他指标周期
    stoch_period: 14
    cci_period: 20
    williams_period: 14
    roc_period: 10
    mfi_period: 14

# 数据集切分
dataset:
  train_ratio: 0.7
  val_ratio: 0.15
  test_ratio: 0.15
  
  # 是否使用时间序列交叉验证
  use_time_series_cv: false
  cv_folds: 5

# 模型配置
models:
  # MLP配置
  mlp:
    hidden_dims: [128, 64, 32]
    dropout: 0.3
    activation: "relu"
  
  # LSTM配置
  lstm:
    hidden_dim: 128
    num_layers: 2
    dropout: 0.3
    bidirectional: true
  
  # Transformer配置
  transformer:
    d_model: 128
    nhead: 8
    num_layers: 3
    dim_feedforward: 512
    dropout: 0.1
  
  # Mamba配置
  mamba:
    d_model: 128
    n_layers: 4
    d_state: 16
    expand: 2
    dropout: 0.1
  
  # ARIMA配置
  arima:
    order: [5, 1, 0]  # (p, d, q)
    seasonal_order: [0, 0, 0, 0]  # (P, D, Q, s)
  
  # Prophet配置
  prophet:
    yearly_seasonality: false
    weekly_seasonality: true
    daily_seasonality: false
    changepoint_prior_scale: 0.05

# 训练配置
training:
  # 批大小
  batch_size: 64
  
  # 训练轮数
  epochs: 100
  
  # 学习率
  learning_rate: 0.001
  
  # 优化器
  optimizer: "adam"
  
  # 学习率调度器
  scheduler:
    type: "reduce_on_plateau"
    patience: 10
    factor: 0.5
  
  # 早停
  early_stopping:
    patience: 20
    min_delta: 0.001
  
  # 损失函数
  loss: "cross_entropy"  # 或 "focal_loss" for imbalanced data
  
  # 类别权重（应对类别不平衡）
  use_class_weights: true
  
  # 随机种子
  seed: 42
  
  # 设备
  device: "cuda"  # cuda 或 cpu

# 评估配置
evaluation:
  metrics:
    - "accuracy"
    - "precision"
    - "recall"
    - "f1"
    - "auc"
  
  # 是否保存混淆矩阵
  save_confusion_matrix: true
  
  # 是否保存ROC曲线
  save_roc_curve: true
  
  # 结果保存目录
  results_dir: "results"

# 可视化配置
visualization:
  # 是否生成可视化图表
  enable: true
  
  # 图表保存目录
  plots_dir: "plots"
  
  # 图表格式
  format: "png"  # png, pdf, svg
  
  # 图表DPI
  dpi: 300

# 日志配置
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  log_dir: "logs"
  save_to_file: true

